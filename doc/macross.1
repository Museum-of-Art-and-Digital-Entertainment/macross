.TH MACROSS 1 "27 November 1985"
.UC 4
.SH NAME
macross \- Macross assembler
.SH SYNOPSIS
.B macross
[ option ] ... file ...
.SH DESCRIPTION
.I Macross
is a fancy macro cross assembler for the 6502.
.I Macross
assembles the given files in the order specified on the command line.  Macross
source file names must end with ``\fB.m\fR''.
.PP
The following options are interpreted by
.IR macross .
.TP
.BI \-l " listfile"
Produce an assembler listing in the file
.IR listfile
showing the object code generated.  If
.IR listfile
is ``\fB-\fR'' the listing will be printed on the standard output.
.TP
.B \-m
When listing is enabled, causes the assembler to include in the listing
synthesized lines showing the code generated by macros.
.TP
.B \-g
Suppress assembly-time garbage collection of unused dynamic storage space
(may speed up small assemblies).
.TP
.B \-d
Print esoteric debug information showing parse trees generated by the parser.
(Generally not of interest to the casual user).
.TP
.B \-D
Print even more esoteric debug information showing parser states.  (Almost
certainly not of interest to the casual user).
.TP
.B \-e
Print esoteric debug information showing emitted binary as it is generated.
(Even duller than parser states).
.TP
.BI \-s " dumpfile"
Place a symbol table dump in the file
.IR dumpfile
at the end of assembly.  If
.IR dumpfile
is ``\fB-\fR'', the symbol table dump will go to the standard output.
.TP
.BI \-S " dumpfile"
As \fB-s\fR, except also dump internal symbols normally not of interest.
.TP
.BI \-h " dumpfile"
As \fB-s\fR, except that the symbols are dumped in the form of Macross
\fBdefine\fR statements.
.TP
.BI \-H " dumpfile"
As \fB-h\fR, except that it only dumps defined external symbols.
.TP
.B \-a
If a symbol dump has been specified, have it include unreferenced \fBdefine\fR
symbols (these are not normally displayed in a symbol table dump listing).
.TP
.BI \-o " output"
Name the final output file
.IR output .
If this option is not used the output will be placed in the file `m.out'.
.TP
.BI \-P " processor"
Assemble for the target processor
.IR processor .
The allowed values are \fB6502\fR and \fB68000\fR.  If this option is not
used \fB6502\fR will be assumed.
.TP
.B \-c
Make the object file produced be a linkable object suitable for use with the
\fIslinky\fR linker.
.TP
.B \-p
Produce position independent code for the \fBelse\fP clause of
\fBif-then-else\fP statements.  This is accomplished by emitting a
\fBbcc/bcs\fP branch pair instead of a \fBjmp\fP instruction.
.TP
.B \-t
Be terse about error messages.  Output no more than one error message for a
given line.
.TP
.B \-u
Don't discard the temporary intermediate files generated during the listing
process when the assemble exits (used for debugging the listing facility).
.TP
.B \-v
Print the \fImacross\fP version number on the standard output before beginning
assembly.
.TP
.B \-B
When generating branches for nested \fBif-then-else\fR constructs, generate
code like that generated by \fBa65\fR.  This code will be slightly less
efficient but will be completely backwards compatible.
.SH "SEE ALSO"
slinky(1), the Macross manual
.SH DIAGNOSTICS
The diagnostics produced by Macross are \fIintended\fR to be self-explanatory.
.SH BUGS
Errors in the input may sometimes produce bizarre and unexpected results.
There are probably lots of bugs that are as yet undetected.
